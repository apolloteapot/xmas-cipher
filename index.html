<html>
  <head>
    <title>Are you alone?</title>
    <meta charset="UTF-8">
    <meta property="og:title" content="å†¬ç´…ã¡ã‚ƒã¾ãƒ¼ğŸ˜­">
    <meta property="og:description" content="æ›å­—å¼æš—å·ã‚’ä»»æ„ã®å¤‰æ›è¡¨ã§å¾©å·åŒ–ã—ã¾ã™ã€‚">
  </head>
  <body>
    <h1>Are you alone?</h1>

    <label for="table-before">è¡¨ï¼ˆå¤‰æ›å‰ï¼‰</label><br>
    <textarea type="text" id="table-before" rows="1" cols="100"></textarea><br>
    <label for="table-after">è¡¨ï¼ˆå¤‰æ›å¾Œï¼‰</label><br>
    <textarea type="text" id="table-after" rows="1" cols="100"></textarea><br>
    <button onclick="fill_en()" style="width:150px; height: 50px;">è‹±èª</button>
    <button onclick="fill_jp()" style="width:150px; height: 50px;">æ—¥æœ¬èª</button>
    <button onclick="swap_tables()" style="width:150px; height: 50px;">å¤‰æ›å‰ã¨å¾Œã‚’å…¥ã‚Œæ›¿ãˆ</button><br>
    <label for="ciphertext">æš—å·æ–‡</label><br>
    <textarea type="text" id="ciphertext" rows="10" cols="100"></textarea><br>
    <button onclick="decode()" style="width:150px; height: 50px;">å¾©å·åŒ–</button><br>
    <label for="ciphertext">å¹³æ–‡</label><br>
    <textarea type="text" id="plaintext" rows="10" cols="100"></textarea><br>

    <script>
      function fill_en()
      {
        document.getElementById("table-before").value = "Gnpm oDfS_vLuAKE_gRwyBh_iQ1234679C";
        document.getElementById("table-after").value = "abcdefghijklmnopqrstuvwxyzAFCIWTY ";
      }

      function fill_jp()
      {
        document.getElementById("table-before").value = "Ñ‘Ñá‰ì´á™é£âµ…à¶ä¹à¶°á ğ“†“à¶å¹¿í•˜á–ƒë¥¼á•†ÙŠà¶›Ùƒà¶¹á…ì“´à¸¬Ğ¸Ğ´á¡â´µà¸­ä¸“ä¸½â´¼ğ“…“â´¶à¸á”¨âµ¥à¸‘Ù‚ğ“„¿ì› à¸ªĞ¶á¢á“¯";
        document.getElementById("table-after").value = "ã¸ã²ã®ã‚ãªã“ã‚ãŸãã¤ã­ã‚“ã¨ã‹ã„ã›ã†ã—ã‚ˆã¡ã‚„ã¦ã™ãƒ¼ã‚€ãµã¯ã«ã‚Šã¾ãã‘ã‚Œã‚’ã‚‹ã‚ã•ã‚‰ã‚‚ã‚†ã‚ãˆã¿ã»ã¬ã";
      }

      function decode() 
      {
        var table_before = Array.from(document.getElementById("table-before").value);
        var table_after = Array.from(document.getElementById("table-after").value);

        var table = {};
        table_before.forEach((char, i) => table[char] = table_after[i]);

        var ciphertext = Array.from(document.getElementById("ciphertext").value);
        var plaintext = '';

        for (let i = 0; i < ciphertext.length; i++) 
        {
            c = ciphertext[i];
            if (c in table)
            {
                plaintext += table[c];
            }
            else
            {
                plaintext += c;
            }
        }

        document.getElementById("plaintext").value = plaintext;
      }

      function swap_tables()
      {
        var temp = document.getElementById("table-before").value;
        document.getElementById("table-before").value = document.getElementById("table-after").value;
        document.getElementById("table-after").value = temp;
      }
    </script>
  </body>
</html>